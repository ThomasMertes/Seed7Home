<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>
Seed7 Manual: Graphic library</title>
<meta name="author" content="Thomas Mertes" />
<meta name="copyright" content="Thomas Mertes" />
<meta name="keywords" content="Seed7, SeedSeven, Seed, Seven, 7, programming, language, extensible, extendable" />
<meta name="description" content="Seed7 - The extensible programming language" />
<meta name="page-topic" content="programming language, computer, software, downloads" />
<meta name="audience" content="all" />
<meta name="content-language" content="en" />
<meta name="robots" content="index,follow" />
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" href="../style3.css" type="text/css" />
</head>
<body style="margin:0 0 0 0;">
<div style="background-image: url('../images/header1x.png');" class="top_image">
<img style="overflow:hidden;" src="../images/hearts7m.png" height="68" width="50"
 /><img style="overflow:hidden;" src="../images/header3.png" height="68" width="745" />
</div>
<div style="background-image: url('../images/fillpix.png');" class="space_below_top_image">
</div>
<div class="menu">

<a class="head" href="../index.htm"><big>Seed7</big></a>
<a class="menu" href="../faq.htm">FAQ</a>
<a class="menu" href="../manual/index.htm">Manual</a>
<a class="menu" href="../demo.htm">Demo</a>
<a class="menu" href="../scrshots/index.htm">Screenshots</a>
<a class="menu" href="../examples/index.htm">Examples</a>
<a class="menu" href="../libraries/index.htm">Libraries</a>
<a class="menu" href="../algorith/index.htm">Algorithms</a>
<a class="menu" href="../benchmks/index.htm">Benchmarks</a>
<a class="menu" href="../subject_index.htm">Index</a>
<a class="menu" href="http://sourceforge.net/project/showfiles.php?group_id=151126">Download</a>
<a class="menu" href="https://github.com/ThomasMertes/seed7">GitHub</a>
<a class="menu" href="../build.htm">Build Seed7</a>
<a class="menu" href="../links.htm">Links</a>

<br />

<a class="head" href="index.htm"><big>Manual</big></a>
<a class="menu" href="intro.htm">Introduction</a>
<a class="menu" href="tutorial.htm">Tutorial</a>
<a class="menu" href="decls.htm">Declarations</a>
<a class="menu" href="stats.htm">Statements</a>
<a class="menu" href="types.htm">Types</a>
<a class="menu" href="params.htm">Parameters</a>
<a class="menu" href="objects.htm">Objects</a>
<a class="menu" href="file.htm">File I/O</a>
<a class="menu" href="syntax.htm">Syntax</a>
<a class="menu" href="tokens.htm">Tokens</a>
<a class="menu" href="expr.htm">Expressions</a>
<a class="menu" href="os.htm">OS&nbsp;access</a>
<a class="menu" href="database.htm">Database</a>
<a class="menu" href="graphic.htm">Graphic</a>
<a class="menu" href="actions.htm">Actions</a>
<a class="menu" href="ffi.htm">Foreign&nbsp;funcs</a>
<a class="menu" href="errors.htm">Errors</a>

<br />

<a class="head" href="#GRAPHIC_LIBRARY"><big>Graphic</big></a>
<a class="menu" href="#Basics">Basics</a>
</div>
<div class="content">
<div style="padding-right:20;">
<table width="100%" cellpadding="0" cellspacing="0">
<tr>
<td align="left" width="80">
<a class="head" href="index.htm"><big>Manual</big></a>
</td>
<td>
<table width="10">
</table>
</td>
<td align="left" width="60%">
<b><big>Graphic</big></b></td>
<td align="right">
<table border="0" cellspacing="1" bgcolor="blue">
<tr bgcolor="gainsboro">
<td>&nbsp;<a class="navigation" href="../manual/database.htm">previous</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../manual/index.htm">up</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../manual/actions.htm">next</a>&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
<a name="file_start"></a><p></p>
<a name="GRAPHIC_LIBRARY"><h2>14. GRAPHIC LIBRARY</h2></a>

<p>
    Seed7 provides a portable graphics library. <a name="hello_world">Below is the graphic
  "hello world" program</a>:
</p><pre class="indent">
$ <span class="keywd">include</span> <span class="stri">"seed7_05.s7i"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/dialog.htm">dialog.s7i</a>"</span>;

<span class="keywd">const</span> <a class="type" href="types.htm#proc">proc</a>: main <span class="keywd">is func</span>
  <span class="keywd">begin</span>
    <a class="func" href="../libraries/dialog.htm#messageWindow(in_string)">messageWindow</a>(<span class="stri">"hello world"</span>);
  <span class="keywd">end func</span>;
</pre><p>
  This program displays a popup window with the message "hello world".
  In the popup window there is an OK button, which ends the program.
  A program that creates an empty window and a message popup is:
</p><pre class="indent">
$ <span class="keywd">include</span> <span class="stri">"seed7_05.s7i"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/dialog.htm">dialog.s7i</a>"</span>;

<span class="keywd">const</span> <a class="type" href="types.htm#proc">proc</a>: main <span class="keywd">is func</span>
  <span class="keywd">begin</span>
    <a class="func" href="../libraries/draw.htm#screen(in_integer,in_integer)">screen</a>(640, 480);
    <a class="func" href="../libraries/dialog.htm#messageWindow(in_string)">messageWindow</a>(<span class="stri">"hello world"</span>);
  <span class="keywd">end func</span>;
</pre><p>
  The function <tt><a class="func" href="../libraries/draw.htm#screen(in_integer,in_integer)">screen</a>(640, 480)</tt> opens window with a width of 640 and
  a height of 480. The window is assigned to the variable <tt><span class="var">curr_win</span></tt>,
  which is used as default window by drawing functions.
</p><p>
  Displaying an empty window without message box is done with:
</p><pre class="indent">
$ <span class="keywd">include</span> <span class="stri">"seed7_05.s7i"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/draw.htm">draw.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/keybd.htm">keybd.s7i</a>"</span>;

<span class="keywd">const</span> <a class="type" href="types.htm#proc">proc</a>: main <span class="keywd">is func</span>
  <span class="keywd">begin</span>
    <a class="func" href="../libraries/draw.htm#screen(in_integer,in_integer)">screen</a>(640, 480);
    <a class="func" href="stats.htm#Ignoring_values">ignore</a>(<a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a>));
  <span class="keywd">end func</span>;
</pre><p>
  This program waits until a key is pressed. The key is read from
  <tt><a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a></tt> Without reading from <tt><a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a></tt> the program
  would terminate immediately. Regarding the keyboard:
<ul>
    <li>In graphic programs the keyboard is connected to <tt><a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a></tt>.</li>
    <li>In console programs the keyboard is connected to <tt><a class="var" href="../libraries/keybd.htm#CONSOLE_KEYBOARD">CONSOLE_KEYBOARD</a></tt>.</li>
</ul><p>
  For that reason a graphic program should do the following assignment:
</p><pre class="indent">
<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a> <a class="op_no_ul" href="stats.htm#Assignment">:=</a> <a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a>;
</pre><p>
  Afterwards it should just use the variable <tt><a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a></tt>.
</p><p>
  The program below clears the window with a color computed from the
  keys pressed:
</p><pre class="indent">
$ <span class="keywd">include</span> <span class="stri">"seed7_05.s7i"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/draw.htm">draw.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/keybd.htm">keybd.s7i</a>"</span>;

<span class="keywd">const</span> <a class="type" href="types.htm#proc">proc</a>: main <span class="keywd">is func</span>
  <span class="keywd">local</span>
    <span class="keywd">var</span> <a class="type" href="types.htm#char">char</a>: command <span class="keywd">is</span> <span class="stri">' '</span>;
  <span class="keywd">begin</span>
    <a class="func" href="../libraries/draw.htm#screen(in_integer,in_integer)">screen</a>(640, 480);
    <a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a> <a class="op_no_ul" href="stats.htm#Assignment">:=</a> <a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a>;
    <a class="keywd_no_ul" href="stats.htm#repeat-statement">repeat</a>
      command <a class="op_no_ul" href="stats.htm#Assignment">:=</a> <a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>);
      <a class="func" href="../libraries/draw.htm#clear(in_color)">clear</a>(<a class="func" href="../libraries/color.htm#color(in_integer,in_integer,in_integer)">color</a>(1009 * <a class="func" href="../libraries/char.htm#ord(in_char)">ord</a>(command) <a class="op" href="../libraries/integer.htm#(in_integer)mod(in_integer)">mod</a> 65536,
                  4999 * <a class="func" href="../libraries/char.htm#ord(in_char)">ord</a>(command) <a class="op" href="../libraries/integer.htm#(in_integer)mod(in_integer)">mod</a> 65536,
                  9973 * <a class="func" href="../libraries/char.htm#ord(in_char)">ord</a>(command) <a class="op" href="../libraries/integer.htm#(in_integer)mod(in_integer)">mod</a> 65536));
    <a class="keywd_no_ul" href="stats.htm#repeat-statement">until</a> command = KEY_ESC;
  <span class="keywd">end func</span>;
</pre><p>
  The function <tt><a class="func" href="../libraries/color.htm#color(in_integer,in_integer,in_integer)">color</a></tt> creates a <tt><a class="type" href="types.htm#color">color</a></tt> from red, green and blue lights
  in the additive color model. The red, green and blue lights are
  specified by integer values in the range 0 .. 65535.
</p><p>
  <a name="hello_world_with_font">Below is a "hello world" program that uses a Seed7 font</a>:
</p><pre class="indent">
$ <span class="keywd">include</span> <span class="stri">"seed7_05.s7i"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/draw.htm">draw.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/keybd.htm">keybd.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/text.htm">text.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"stdfont24.s7i"</span>;

<span class="keywd">const</span> <a class="type" href="types.htm#proc">proc</a>: main <span class="keywd">is func</span>
  <span class="keywd">local</span>
    <span class="keywd">var</span> <a class="type" href="../libraries/text.htm#text">text</a>: textWindow <span class="keywd">is</span> <a class="type" href="../libraries/text.htm#text">text</a>.value;
  <span class="keywd">begin</span>
    <a class="func" href="../libraries/draw.htm#screen(in_integer,in_integer)">screen</a>(203, 45);
    textWindow <a class="op_no_ul" href="stats.htm#Assignment">:=</a> <a class="func" href="../libraries/pixmap_file.htm#openPixmapFontFile(in_PRIMITIVE_WINDOW)">openPixmapFontFile</a>(curr_win);
    <a class="func" href="../libraries/pixmap_file.htm#setFont(inout_text,in_font)">setFont</a>(textWindow, stdFont24);
    <a class="func" href="../libraries/enable_io.htm#writeln(inout_file,in_aType)">writeln</a>(textWindow, <span class="stri">" hello world"</span>);
    <a class="func" href="stats.htm#Ignoring_values">ignore</a>(<a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a>));
  <span class="keywd">end func</span>;
</pre><p>
  The function <tt><a class="func" href="../libraries/draw.htm#screen(in_integer,in_integer)">screen</a></tt> opens a window with a width of 203 pixels and
  a height of 45 pixels. The window is stored in the global variable
  <tt>curr_win</tt>. The function <tt><a class="func" href="../libraries/pixmap_file.htm#openPixmapFontFile(in_PRIMITIVE_WINDOW)">openPixmapFontFile</a></tt> opens a <tt><a class="type" href="../libraries/pixmap_file.htm#pixmapFontFile">pixmapFontFile</a></tt>
  for <tt>curr_win</tt>. Everything written to <tt>textWindow</tt> is displayed in
  the current window. The function <tt><a class="func" href="../libraries/pixmap_file.htm#setFont(inout_text,in_font)">setFont</a></tt> defines which font should
  be used. The font <tt>stdfont24.s7i</tt> is a <tt><a class="type" href="../libraries/bitmapfont.htm#bitmapFont">bitmapFont</a></tt> with a cap-height
  of 24 pixels. The function <tt><a class="func" href="../libraries/enable_io.htm#writeln(inout_file,in_aType)">writeln</a></tt> displays hello world to the
  current window with the specified font.
</p><p>
  Seed7 fonts are not as perfect as professional fonts. They have the
  following properties:
</p><ul>
    <li>They are open source.</li>
    <li>They are implemented in Seed7.</li>
    <li>No external library is needed.</li>
    <li>Seed7 programs can use them always.</li>
    <li>There are bitmap and vector fonts.</li>
</ul><p>
  <a name="hello_world_at_clicked_positions">Below is a "hello world" program which writes "hello world" at clicked positions</a>
</p><pre class="indent">
$ <span class="keywd">include</span> <span class="stri">"seed7_05.s7i"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/draw.htm">draw.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/keybd.htm">keybd.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"<a class="lib" href="../libraries/text.htm">text.s7i</a>"</span>;
  <span class="keywd">include</span> <span class="lib">"stdfont24.s7i"</span>;

<span class="keywd">const</span> <a class="type" href="types.htm#proc">proc</a>: main <span class="keywd">is func</span>
  <span class="keywd">local</span>
    <span class="keywd">var</span> <a class="type" href="../libraries/text.htm#text">text</a>: textWindow <span class="keywd">is</span> <a class="type" href="../libraries/text.htm#text">text</a>.value;
    <span class="keywd">var</span> <a class="type" href="types.htm#char">char</a>: command <span class="keywd">is</span> <span class="stri">' '</span>;
  <span class="keywd">begin</span>
    <a class="func" href="../libraries/draw.htm#screen(in_integer,in_integer)">screen</a>(640, 480);
    textWindow <a class="op_no_ul" href="stats.htm#Assignment">:=</a> <a class="func" href="../libraries/pixmap_file.htm#openPixmapFontFile(in_PRIMITIVE_WINDOW)">openPixmapFontFile</a>(curr_win);
    <a class="func" href="../libraries/pixmap_file.htm#setFont(inout_text,in_font)">setFont</a>(textWindow, stdFont24);
    <a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a> <a class="op_no_ul" href="stats.htm#Assignment">:=</a> <a class="var" href="../libraries/keybd.htm#GRAPH_KEYBOARD">GRAPH_KEYBOARD</a>;
    <a class="keywd_no_ul" href="stats.htm#repeat-statement">repeat</a>
      command <a class="op_no_ul" href="stats.htm#Assignment">:=</a> <a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>);
      <a class="keywd_no_ul" href="stats.htm#if-statement">if</a> command = <a class="var" href="../file.htm#KEY_MOUSE1">KEY_MOUSE1</a> <a class="keywd_no_ul" href="stats.htm#if-statement">then</a>
        <a class="func" href="../libraries/text.htm#setPosXY(inout_text,in_integer,in_integer)">setPosXY</a>(textWindow, <a class="func" href="../libraries/keybd.htm#clickedXPos(in_keyboard_file)">clickedXPos</a>(KEYBOARD),
                             <a class="func" href="../libraries/keybd.htm#clickedYPos(in_keyboard_file)">clickedYPos</a>(KEYBOARD));
        <a class="func" href="../libraries/text.htm#color(inout_text,in_color)">color</a>(textWindow, <a class="func" href="../libraries/color.htm#color(in_integer,in_integer,in_integer)">color</a>(<a class="func" href="../libraries/integer.htm#rand(in_integer,in_integer)">rand</a>(0, 65535),
                                <a class="func" href="../libraries/integer.htm#rand(in_integer,in_integer)">rand</a>(0, 65535),
                                <a class="func" href="../libraries/integer.htm#rand(in_integer,in_integer)">rand</a>(0, 65535)));
        <a class="func" href="../libraries/enable_io.htm#writeln(inout_file,in_aType)">writeln</a>(textWindow, <span class="stri">"hello world"</span>);
      <a class="keywd_no_ul" href="stats.htm#if-statement">end</a> <a class="keywd_no_ul" href="stats.htm#if-statement">if</a>;
    <a class="keywd_no_ul" href="stats.htm#repeat-statement">until</a> command <> <a class="var" href="../file.htm#KEY_MOUSE1">KEY_MOUSE1</a>;
  end func;
</pre><p>
</p>
<table width="100%" cellpadding="0" cellspacing="0">
<tr>
<td align="left" width="60%">
<b><big><hr \></big></b></td>
<td align="right">
<table border="0" cellspacing="1" bgcolor="blue">
<tr bgcolor="gainsboro">
<td>&nbsp;<a class="navigation" href="../manual/database.htm">previous</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../manual/index.htm">up</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../manual/actions.htm">next</a>&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</div>
  </body>
</html>
