<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<script type="text/javascript" src="../demo/gkbd.js"></script>
<title>
Seed7 Program: Gkbd</title>
<meta name="author" content="Thomas Mertes" />
<meta name="copyright" content="Thomas Mertes" />
<meta name="keywords" content="Seed7, SeedSeven, Seed, Seven, 7, programming, language, extensible, extendable" />
<meta name="description" content="Seed7 - The extensible programming language" />
<meta name="page-topic" content="programming language, computer, software, downloads" />
<meta name="audience" content="all" />
<meta name="content-language" content="en" />
<meta name="robots" content="index,follow" />
<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" href="../style3.css" type="text/css" />
</head>
<body style="margin:0 0 0 0;">
<div style="background-image: url('../images/header1x.png');" class="top_image">
<img style="overflow:hidden;" src="../images/hearts7m.png" height="68" width="50"
 /><img style="overflow:hidden;" src="../images/header3.png" height="68" width="745" />
</div>
<div style="background-image: url('../images/fillpix.png');" class="space_below_top_image">
</div>
<div class="menu">

<a class="head" href="../index.htm"><big>Seed7</big></a>
<a class="menu" href="../faq.htm">FAQ</a>
<a class="menu" href="../manual/index.htm">Manual</a>
<a class="menu" href="../demo.htm">Demo</a>
<a class="menu" href="../scrshots/index.htm">Screenshots</a>
<a class="menu" href="../examples/index.htm">Examples</a>
<a class="menu" href="../libraries/index.htm">Libraries</a>
<a class="menu" href="../algorith/index.htm">Algorithms</a>
<a class="menu" href="../benchmks/index.htm">Benchmarks</a>
<a class="menu" href="../subject_index.htm">Index</a>
<a class="menu" href="http://sourceforge.net/project/showfiles.php?group_id=151126">Download</a>
<a class="menu" href="https://github.com/ThomasMertes/seed7">GitHub</a>
<a class="menu" href="../build.htm">Build Seed7</a>
<a class="menu" href="../links.htm">Links</a>

<br />

<a class="head" href="index.htm"><big>Screenshots</big></a>
<a class="menu" href="panic.htm">Panic</a>
<a class="menu" href="mandelbr.htm">Mandelbr</a>
<a class="menu" href="planets.htm">Planets</a>
<a class="menu" href="comanche.htm">Comanche</a>
<a class="menu" href="calc7.htm">Calc7</a>
<a class="menu" href="savehd7.htm">Savehd7</a>
<a class="menu" href="s7c.htm">Compiler</a>
<a class="menu" href="db7.htm">Db7</a>
<a class="menu" href="ide7.htm">Ide7</a>
<a class="menu" href="klondike.htm">Klondike</a>
<a class="menu" href="dnafight.htm">Dnafight</a>
<a class="menu" href="sudoku7.htm">Sudoku</a>
<a class="menu" href="wator.htm">Wator</a>
<a class="menu" href="tar7.htm">Tar7</a>
<a class="menu" href="sydir7.htm">Sydir7</a>
<a class="menu" href="ftp7.htm">Ftp7</a>
<a class="menu" href="castle.htm">Castle</a>
<a class="menu" href="tetg.htm">Tetris</a>
<a class="menu" href="pv7.htm">Pv7</a>
<a class="menu" href="make7.htm">Make7</a>
<a class="menu" href="ftpserv.htm">Ftpserv</a>
<a class="menu" href="bas7.htm">Basic</a>
<a class="menu" href="gkbd.htm">Gkbd</a>
<a class="menu" href="pairs.htm">Pairs</a>
<a class="menu" href="shisen.htm">Shisen</a>
<a class="menu" href="eliza.htm">Eliza</a>
<a class="menu" href="../algorith/graphic.htm#dragon_curve">Dragon</a>
<a class="menu" href="../images/testfont1.png">Fonts</a>
<a class="menu" href="toutf8.htm">Toutf8</a>
<a class="menu" href="lander.htm">Lander</a>
<a class="menu" href="wiz.htm">Wiz</a>
<a class="menu" href="startrek.htm">Startrek</a>
<a class="menu" href="../images/dirx1.png">Directory</a>
<a class="menu" href="../algorith/graphic.htm#bifurk">Bifurc</a>
<a class="menu" href="mahjong.htm">Mahjong</a>
<a class="menu" href="../images/rever1.png">Reversi</a>
<a class="menu" href="sokoban.htm">Sokoban</a>
<a class="menu" href="../algorith/graphic.htm#cellauto">Cellauto</a>
<a class="menu" href="sl.htm">Life</a>
<a class="menu" href="../images/snake1.png">Snake</a>
<a class="menu" href="self.htm">Self</a>
<a class="menu" href="../images/carddemo1.png">Cards</a>
<a class="menu" href="../images/ms1.png">Mines</a>
<a class="menu" href="../images/pac1.png">Pacman</a>
</div>
<div class="content">
<div style="padding-right:20;">
<table width="100%" cellpadding="0" cellspacing="0">
<tr>
<td align="left" width="80">
<a class="head" href="index.htm"><big>Screenshots</big></a>
</td>
<td>
<table width="10">
</table>
</td>
<td align="left" width="60%">
<b><big>Gkbd</big></b></td>
<td align="right"><button name="startMain">Demo</button></td>
<td>
<table width="10">
</table>
</td>
<td align="right"><a class="link" href="../prg/gkbd.htm">Source&nbsp;Code</a></td>
<td>
<table width="10">
</table>
</td>
<td align="right">
<table border="0" cellspacing="1" bgcolor="blue">
<tr bgcolor="gainsboro">
<td>&nbsp;<a class="navigation" href="../scrshots/bas7.htm">previous</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../scrshots/index.htm">up</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../scrshots/pairs.htm">next</a>&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
<br />
<table cellspacing="0" border="0">
<tr valign="top">
<td align="left" width="100%">

<p>
Gkbd is a keyboard test program for the graphic keyboard.
</p><p>
Gkbd shows keyboard and mouse events. At the top of the window
a rectangular block moves forward and backward to show that the program
does not hang. An explanation how to terminate the program is also
near the top:
</p><pre class="indent">
<b>Keyboard test program. Type ! to terminate the program</b>
</pre><p>
Gkbd logs the keys pressed in the bottom area of the window.
The log consists of the decimal key number and an optional
key description. E.g.:
</p><pre class="indent">
8364 &euro;
</pre><p>
For Unicode characters the key number corresponds to
the ordinal number of the character. Cursor-, function- and mouse-keys
correspond to special codes (which may be or may not be Unicode characters).
E.g.
</p><pre class="indent">
1114274 KEY_UP
</pre><p>
Key descriptions like <tt><a class="var" href="../manual/file.htm#KEY_UP">KEY_UP</a></tt> correspond to constants defined in
the library <a class="lib" href="../manual/file.htm#Keyboard_file">keybd.s7i</a>. This library defines constants for keys and
combinations of a key with one modifier key (SHIFT, CTRL, ALT).
Constants from <a class="lib" href="../manual/file.htm#Keyboard_file">keybd.s7i</a> should be used in programs, because ordinals like
<tt>1114274</tt> might change in the future.
</p><p>
The log of keys is also written to stdout. When gkbd was started from
a console you can see the log also in the console.
</p><p>
Gkbd displays also an english keyboard with blue keys.
This is independent of the actual keyboard type.
Keys that are currently pressed are shown in red.
</p><p>
On the top right of the keyboard picture are three
lights corresponding to num-lock, shift-lock and scroll-lock.
</p><p>
On the bottom left of the keyboard picture are four
lights corresponding to shift, control, super and alt.
These lights are red if a left or right modifier key
(e.g. shift) is currently pressed.
</p><p>
The mouse keys are at the bottom right of the keyboard area.
From left to right there are:
<p><ul>
<li><tt><a class="var" href="../manual/file.htm#KEY_MOUSE_FWD">KEY_MOUSE_FWD</a></tt></li>
<li><tt><a class="var" href="../manual/file.htm#KEY_MOUSE_BACK">KEY_MOUSE_BACK</a></tt></li>
<li><tt><a class="var" href="../manual/file.htm#KEY_MOUSE1">KEY_MOUSE1</a></tt></li>
<li><tt><a class="var" href="../manual/file.htm#KEY_MOUSE2">KEY_MOUSE2</a></tt></li>
<li><tt><a class="var" href="../manual/file.htm#KEY_MOUSE3">KEY_MOUSE3</a></tt></li>
</ul><p>
The <a class="link" href="../manual/file.htm#Keyboard_file">keyboard/Mouse interface</a> of Seed7 supports reading key/button
down events with <tt><a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>)</tt>.
The function <tt><a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>)</tt> waits
until a key has been pressed. The function <tt><a class="func" href="../libraries/keybd.htm#inputReady(in_console_keybd_file)">inputReady</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>)</tt>
can be used to avoid blocking. This function returns <tt><a class="var" href="../libraries/boolean.htm#TRUE">TRUE</a></tt> if reading
with <tt><a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>)</tt> does not block.
</p><p>
The function <tt><a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>)</tt> does not consider key/button
release events. The function <tt><a class="func" href="../libraries/keybd.htm#buttonPressed(in_graph_keybd_file,in_char)">buttonPressed</a></tt> is used to
determine if a key is currently pressed. Note that <tt><a class="func" href="../libraries/keybd.htm#buttonPressed(in_graph_keybd_file,in_char)">buttonPressed</a></tt>
does not consume events. So a combination of <tt><a class="func" href="../libraries/keybd.htm#getc(in_graph_keybd_file)">getc</a>(<a class="var" href="../libraries/keybd.htm#KEYBOARD">KEYBOARD</a>)</tt>
and <tt><a class="func" href="../libraries/keybd.htm#buttonPressed(in_graph_keybd_file,in_char)">buttonPressed</a></tt> is used by gkbd. Modifier keys such as
<span class="box">shift</span>, <span class="box">control</span>, <span class="box">super</span> and <span class="box">alt</span> do not send key/button down
or up events. The state of these buttons is also obtained
with <tt><a class="func" href="../libraries/keybd.htm#buttonPressed(in_graph_keybd_file,in_char)">buttonPressed</a></tt>.
</p><p>
Some keys are not delivered to the program by default. By default
the close button of the window (often marked with <tt><span class="box">X</span></tt>)
just exits the program. By default resizing a window is also not
communicated to the program. These two events can be activated
with:
</p><pre class="indent">
<a class="func" href="../libraries/graph.htm#selectInput(in_PRIMITIVE_WINDOW,in_char,in_boolean)">selectInput</a>(curr_win, <a class="var" href="../manual/file.htm#KEY_CLOSE">KEY_CLOSE</a>, <a class="var" href="../libraries/boolean.htm#TRUE">TRUE</a>);  <span class="comment"># Enable the program to get KEY_CLOSE without closing the window.</span>
<a class="func" href="../libraries/graph.htm#selectInput(in_PRIMITIVE_WINDOW,in_char,in_boolean)">selectInput</a>(curr_win, <a class="var" href="../manual/file.htm#KEY_RESIZE">KEY_RESIZE</a>, <a class="var" href="../libraries/boolean.htm#TRUE">TRUE</a>); <span class="comment"># Enable the program to get KEY_RESIZE.</span>
</pre><p>
This way a program can also receive <tt><a class="var" href="../manual/file.htm#KEY_CLOSE">KEY_CLOSE</a></tt> and <tt><a class="var" href="../manual/file.htm#KEY_RESIZE">KEY_RESIZE</a></tt>.
</p>
</td>
<td>
<table width="10">
</table>
</td>
<td>
<table cellspacing="0" cellpadding="0" border="0">
<tbody>
<tr valign="top" align="center">
<td><a href="../images/gkbd0.png"><img src="../images/gkbd0m.png" width="200" height="159" border="0" /></a><br />Started</td></tr>
<tr height="20"><td></td></tr>
<tr valign="top" align="center">
<td><a href="../images/gkbd1.png"><img src="../images/gkbd1m.png" width="200" height="159" border="0" /></a><br />After pressing keys</td></tr>
<tr height="20"><td></td></tr>
</tbody>
</table>
</td>
</tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
<tr>
<td align="left" width="60%">
<b><big><hr \></big></b></td>
<td align="right">
<table border="0" cellspacing="1" bgcolor="blue">
<tr bgcolor="gainsboro">
<td>&nbsp;<a class="navigation" href="../scrshots/bas7.htm">previous</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../scrshots/index.htm">up</a>&nbsp;</td>
<td>&nbsp;<a class="navigation" href="../scrshots/pairs.htm">next</a>&nbsp;</td>
</tr>
</table>
</td>
</tr>
</table>
</div>
</div>
  </body>
</html>
